<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>สั่งซื้อสินค้า | CSMJU Souvenir Shop</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="css/or.css" />
</head>

<body>
    <header>
        <div class="container nav-container">
            <h1 class="logo">CSMJU Souvenir Shop</h1>
            <nav>
                <a href="index.html">หน้าแรก</a>
                <a href="order.html" class="active">สั่งซื้อ</a>
                <a href="#contact">ติดต่อ</a>
                <a href="admin.html" class="admin-link">Admin</a>
            </nav>
            <button class="nav-toggle" aria-label="เปิดเมนู">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <main>
        <section class="section order-section">
            <div class="container">
                <h2>ฟอร์มสั่งซื้อสินค้า</h2>
                <form id="orderForm" novalidate>
                    <label for="name">ชื่อ-นามสกุลผู้สั่งซื้อ</label>
                    <input type="text" id="name" name="name" placeholder="เช่น นายสมชาย ใจดี" required />

                    <label for="address">ที่อยู่สำหรับจัดส่ง</label>
                    <textarea id="address" name="address" rows="3"
                        placeholder="บ้านเลขที่ ถนน ตำบล อำเภอ จังหวัด รหัสไปรษณีย์" required></textarea>

                    <label for="phone">เบอร์โทรศัพท์</label>
                    <input type="tel" id="phone" name="phone" placeholder="เช่น 0891234567" pattern="[0-9]{9,10}"
                        required />

                    <label for="product">เลือกสินค้า</label>
                    <select id="product" name="product" required>
                        <option value="" disabled selected>-- กรุณาเลือกสินค้า --</option>
                        <option value="เสื้อ - ขาว - M">เสื้อ - ขาว - M</option>
                        <option value="เสื้อ - ดำ - L">เสื้อ - ดำ - L</option>
                        <option value="แก้ว">แก้ว</option>
                        <option value="หมวก">หมวก</option>
                        <option value="ปากกา">ปากกา</option>
                    </select>

                    <label for="quantity">จำนวน</label>
                    <input type="number" id="quantity" name="quantity" placeholder="เช่น 1" min="1" max="100"
                        required />

                    <label for="slip">แนบสลิปการโอนเงิน (รูปภาพ)</label>
                    <input type="file" id="slip" name="slip" accept="image/*" required />

                    <label for="payment">ช่องทางการชำระเงิน</label>
                    <select id="payment" name="payment" required>
                        <option value="" disabled selected>-- กรุณาเลือกช่องทางชำระเงิน --</option>
                        <option value="โอนผ่านบัญชีธนาคาร">โอนผ่านบัญชีธนาคาร</option>
                        <option value="PromptPay">PromptPay</option>
                        <option value="อื่น ๆ">อื่น ๆ</option>
                    </select>

                    <button type="submit" class="btn-primary">ยืนยันการสั่งซื้อ</button>
                </form>

                <div id="orderSummary" class="summary-box" style="display:none; margin-top: 1.5rem;">
                    <h3>สรุปรายการสั่งซื้อ</h3>
                    <ul id="summaryList" style="text-align: left;"></ul>
                    <button id="closeSummary" class="btn-secondary" style="margin-top: 1rem;">ปิด</button>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container footer-container">
            &copy; 2025 สาขาวิชาวิทยาการคอมพิวเตอร์ มหาวิทยาลัยแม่โจ้
        </div>
    </footer>

    <script>
        // Mobile nav toggle
        const navToggle = document.querySelector('.nav-toggle');
        const nav = document.querySelector('nav');
        navToggle.addEventListener('click', () => {
            nav.classList.toggle('nav-open');
            navToggle.classList.toggle('open');
        });

        // Form submission and summary display
        const form = document.getElementById('orderForm');
        const summary = document.getElementById('orderSummary');
        const summaryList = document.getElementById('summaryList');
        const closeSummaryBtn = document.getElementById('closeSummary');

        form.addEventListener('submit', function (e) {
            e.preventDefault();

            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            const formData = new FormData(form);

            summaryList.innerHTML = `
        <li><strong>ชื่อ-นามสกุล:</strong> ${formData.get('name')}</li>
        <li><strong>ที่อยู่จัดส่ง:</strong> ${formData.get('address')}</li>
        <li><strong>เบอร์โทรศัพท์:</strong> ${formData.get('phone')}</li>
        <li><strong>สินค้า:</strong> ${formData.get('product')}</li>
        <li><strong>จำนวน:</strong> ${formData.get('quantity')}</li>
        <li><strong>ช่องทางชำระเงิน:</strong> ${formData.get('payment')}</li>
        <li><strong>แนบสลิป:</strong> ${formData.get('slip') ? 'มี' : 'ไม่มี'}</li>`;

            summary.style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        closeSummaryBtn.addEventListener('click', () => {
            summary.style.display = 'none';
            form.reset();
        });
    </script>
</body>

</html>